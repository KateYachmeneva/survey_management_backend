{% extends 'data_handler/trajectories.html' %}
{% load static%}

{% load floattags %}

{%  block header %}
    <link type="text/css" href="{% static 'css/data_handler/scroll.css' %}" rel="stylesheet" />
<style>
.table>:not(caption)>*>* {
	padding:0em;
}
td {
    width:3rem;
    height:2.5rem;
}

th  {
    width:3rem;
    height:2.5rem;
}

</style>
{% endblock %}

    {% block tag_form %}
<form action=""  method="post" name="data_form" >
    {% endblock %}

{% block top_button%}
    <br>
    <button type="button" class="" placeholder="" aria-controls="dtDynamicVerticalScrollExample">
    <a href="{% url 'traj'%}?run_id={{context.selected_id}}" style="text-decoration: none;color: #000;">Назад</a>
    </button>
{% endblock %}


{% block data_tr1%}
<tr>
    <td scope="col"><input id="di{{meas.id}}" type="number" value="{{ meas.depth|formatted_float  }}"  onchange="getName({{meas.id}},'igi')" step="0.01" style="text-align: center;Border: none; outline: none;width:100%;height:100%;"></td>
    <td scope="col"><input id="ci{{meas.id}}" type="number" value="{{ meas.corner|formatted_float  }}" onchange="getName({{meas.id}},'igi')" step="0.01" style="text-align: center;Border: none; outline: none;width:100%;height:100%;"></td>
    <td scope="col"><input id="ai{{meas.id}}" type="number" value="{{ meas.azimut|formatted_float  }}" onchange="getName({{meas.id}},'igi')" step="0.01" style="text-align: center;Border: none; outline: none;width:100%;height:100%;"></td>
</tr>
{% endblock %}



{% block data_tr2%}
<tr>
    <td scope="col"><input id="dn{{meas.id}}" type="number" value="{{meas.depth |formatted_float  }}"   onchange="getName({{meas.id}},'nnb')" step="0.01" style="text-align: center;padding:0em; Border: none; outline: none;width:100%;height:100%;"></td>
    <td scope="col"><input id="cn{{meas.id}}" type="number" value="{{meas.corner|formatted_float  }}"  onchange="getName({{meas.id}},'nnb')"  step="0.01" style="text-align: center;padding:0em; Border: none; outline: none;width:100%;height:100%;"></td>
    <td scope="col"><input id="an{{meas.id}}" type="number" value="{{meas.azimut|formatted_float  }}"  onchange="getName({{meas.id}},'nnb')"  step="0.01" style="text-align: center;padding:0em; Border: none; outline: none;width:100%;height:100%;"></td>
</tr>
{% endblock %}

{% block bottom_button%}
<div class="row" style="margin-top:1em;margin-right:0.1em;">
    <div class="col-11" style="text-align: right">
       <button type="submit"  style="width:100%" data-whatever="ИГиРГИ">
            Сохранить
        </button>
    </div>
</div>
</form>


<script>
function getName(name, type) {
  console.log(arguments[0], arguments[1]);
  if (arguments[1] == 'nnb'){
    var x_id = "dn" + arguments[0];
    var y_id = "cn" + arguments[0];
    var z_id = "an" + arguments[0];
    var key = "nnb"
  }else{
    var x_id = "di" + arguments[0];
    var y_id = "ci" + arguments[0];
    var z_id = "ai" + arguments[0];
    var key = "igirgi"
    };

  let x = document.getElementById(x_id);
  let y = document.getElementById(y_id);
  let z = document.getElementById(z_id);

  x.style.color ='DarkOrange';
  y.style.color ='DarkOrange';
  z.style.color ='DarkOrange';

  x.name = arguments[0]+' '+key
  y.name = arguments[0]+' '+key
  z.name = arguments[0]+' '+key

}

</script>
{% endblock %}